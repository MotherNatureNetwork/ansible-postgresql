---
molecule:
  test:
    sequence:
      - destroy
      - syntax
      - create
      - converge
      - verify

driver:
  name: vagrant

vagrant:
  # Comment raw_config_args if testing against trusty
  raw_config_args:
    - "ssh.username = 'ubuntu'"

  platforms:
    - name: xenial64
      box: xenial64
      box_url: https://s3.amazonaws.com/tech-only.dev.mnn.com/Vagrant/ncg-xenial.box

    - name: trusty64
      box: ncg/trusty64

  providers:
    - name: virtualbox
      type: virtualbox
      options:
        memory: 256
        cpus: 1

  instances:
    - name: mnn.postgres-01

ansible:
  playbook: tests/playbook.yml
  sudo: False

verifier:
  name: testinfra
